
#include <stdio.h>
#include <stdlib.h>

struct pessoa {
    int senha;
    struct pessoa *prox;
};

typedef struct pessoa Pessoa;

// Ponteiro global que representa o início da fila
Pessoa *fila;

void add(int senha) {
    Pessoa *p = (Pessoa*) malloc(sizeof(Pessoa));
    p->senha = senha;
    p->prox = NULL;  // sempre será o ultimo, por isso NULL
    
    if(fila == NULL) {
        fila = p; // Novo elemento vira o primeiro
    }else {
        Pessoa *filaAux = fila;
        // Avança até o último elemento (onde prox é NULL)
        while(filaAux->prox!=NULL){ 
            filaAux = filaAux->prox;
        }
        filaAux->prox = p; // Conecta o último nó ao novo elemento
    }
}

void rem() {
    if (fila==NULL) {
        printf("Fila vazia");
    }else {
        fila = fila->prox;
    }
}

void imprime(Pessoa *f) {
    if(f!=NULL) {
        printf("\nSenha da pessoa: %d",f->senha);
        imprime(f->prox);
    }
}

int main()
{
    add(5);
    add(8);
    add(10);
    add(22);
    Pessoa *filaAux = fila;
    imprime(filaAux);
    
    printf("\n");
    rem();
    filaAux = fila;
    imprime(filaAux);
    
    printf("\n");
    rem();
    filaAux = fila;
    imprime(filaAux);
}
